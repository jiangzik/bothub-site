---
title: 会话与上下文管理
description: 降低上下文混乱，提高长对话稳定性。
---

# 会话与上下文管理

## 建议的会话组织方式

按任务拆分会话，而不是把所有问题塞进同一个会话。

- 会话 A：产品方案
- 会话 B：代码实现
- 会话 C：文案润色

这样可以减少模型上下文污染。

## 长对话的稳定策略

1. 每轮只做一个目标，避免单条消息包含过多要求。
2. 关键约束重复一次，例如“必须输出 JSON”。
3. 对话过长时新建会话，并在首条消息粘贴简要背景。

## 常用提示词结构

可以按这个顺序组织输入：

1. 背景（你在做什么）
2. 目标（你要什么输出）
3. 约束（格式、长度、风格）
4. 示例（可选）

## 质量回归方法

保留一组固定测试问题，用于版本升级后检查模型输出是否退化。  
例如保留 3 条测试任务：

- 一条事实问答
- 一条结构化输出（JSON）
- 一条长文总结

## 本地数据与隐私

BotHub 采用本地优先的数据体验。  
但只要你调用在线模型，消息内容仍会发送给对应模型供应商。  
在处理敏感数据前，建议确认供应商的数据策略与合规要求。
